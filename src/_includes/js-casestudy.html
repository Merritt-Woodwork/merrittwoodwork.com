<script>
  (function() {

  enquire.register("screen and (min-width:992px)", {

    // OPTIONAL
    // If supplied, triggered when a media query matches.
    match: function() {
      var rellax = new Rellax('.rellax');
    },

    // OPTIONAL
    // If supplied, triggered when the media query transitions
    // *from a matched state to an unmatched state*.
    unmatch: function() {
    },

    // OPTIONAL
    // If supplied, triggered once, when the handler is registered.
    setup: function() {},

    // OPTIONAL, defaults to false
    // If set to true, defers execution of the setup function
    // until the first time the media query is matched
    deferSetup: true,

    // OPTIONAL
    // If supplied, triggered when handler is unregistered.
    // Place cleanup code here
    destroy: function() {}

  });

  // imgix responsive background-image
  // https://gist.github.com/croxton/9cfa0cca85fbb5f135441653a5b1dd9f
  var $img = $(".js-img");
  if ($img.length) {
    // triggered whenever an image is loaded, including on resize
    $img.on('load', function(){

      // legacy browser support
      // picturefill();

      // fallback to src for browsers without srcset support
      var src = $img.prop('currentSrc') || $img.prop('src');

      // set the background image for the parent
      var $parent = $img.parent();
      $parent.css('backgroundImage', 'url('+src+')');
    });
  }

  $(function(){ // document ready
    // init Isotope
    var $grid = $('.grid').isotope({
        // options
        itemSelector: '.grid-item',
        masonry: {
          columnWidth: '.grid-sizer',
          gutter: '.gutter-sizer',
          percentPosition: true
        }
      });

    // trigger layout after each image loads to avoid overlap
    $('.grid').imagesLoaded().progress( function() {
      $grid.isotope('layout');
    });

  });


  })();
</script>